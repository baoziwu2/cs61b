# test_basic_commit.in
# Include predefined regular expressions for matching dynamic content (e.g., commit ID and date)
I definitions.inc

# Title: Test basic flow of init, add, commit, and log
# ">" executes a command, "<<<" marks start of expected output, and "<<<*" uses regex to match output

# 1. Initialize the repository (no output expected)
> init
<<<
# Verify that the .gitlet directory was created
E .gitlet

# 2. Create a new file wug.txt in the working directory
# "+" copies a file from testing/src into the working directory
+ wug.txt wug.txt

# 3. Add the file to the staging area (no output expected)
> add wug.txt
<<<

# 4. Commit the file (no output expected)
> commit "initial commit of wug.txt"
<<<

# 5. Modify the file content
+ wug.txt notwug.txt

# 6. Add and commit again
> add wug.txt
<<<
> commit "changed wug.txt to notwug"
<<<

# 7. Run log and verify the output format
> log
===
${COMMIT_HEAD}
changed wug.txt to notwug

===
${COMMIT_HEAD}
initial commit of wug.txt

===
${COMMIT_HEAD}
initial commit

<<<*